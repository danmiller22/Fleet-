
/* =============================================================
   TranGo-style Apple‑grade UI — Dark, glass, smooth
   Author: ChatGPT (GPT‑5 Pro)
   Notes:
   - Uses the system SF stack on Apple devices via -apple-system
   - Spring-like motion using cubic-bezier(.22,1,.36,1)
   - Includes "reduced motion" support
   - Non-destructive: keeps original class/ID names used by app.js
   ============================================================= */

:root{
  /* Core palette */
  --brand: #ff453a;               /* Apple system red (iOS 14+) */
  --brand-2: #ff9f0a;
  --bg: #0b0c0f;
  --bg-1: #0e1014;
  --bg-2: #13161b;
  --panel: rgba(255,255,255,.06);
  --panel-strong: rgba(255,255,255,.10);
  --border: #23252a;
  --text: #f2f3f5;
  --text-2: #c9cbd1;
  --muted: #a3a6ad;
  --shadow-1: 0 10px 30px rgba(0,0,0,.35);
  --shadow-2: 0 5px 18px rgba(0,0,0,.28);
  --radius-lg: 16px;
  --radius-md: 14px;
  --radius-sm: 12px;

  /* Motion */
  --ease-out: cubic-bezier(.22,1,.36,1);
  --spring: cubic-bezier(.22,1,.36,1);
  --t-fast: 160ms;
  --t: 280ms;
  --t-slow: 560ms;

  /* Elevation overlays */
  --glass: color-mix(in oklab, white 2%, transparent);
  --glass-2: color-mix(in oklab, white 3.5%, transparent);

  /* Table sizing */
  --row-h: 44px;
}

/* Light mode tweaks */
@media (prefers-color-scheme: light) {
  :root {
    --bg: #f6f7fb;
    --bg-1: #fff;
    --bg-2: #fafbff;
    --panel: rgba(0,0,0,.06);
    --panel-strong: rgba(0,0,0,.08);
    --border:#e6e7eb;
    --text:#0a0b0d;
    --text-2:#1c1f26;
    --muted:#57606a;
    --glass: color-mix(in oklab, black 2.5%, transparent);
    --glass-2: color-mix(in oklab, black 4%, transparent);
    --shadow-1: 0 6px 24px rgba(0,0,0,.08);
    --shadow-2: 0 4px 14px rgba(0,0,0,.06);
  }
}

/* Global */
html, body {
  height: 100%;
  background: radial-gradient(1200px 800px at 20% -20%, #31120c 2%, transparent 50%),
              radial-gradient(1200px 800px at 100% -40%, #1d1100 0%, transparent 60%),
              var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
body, input, button, select, textarea {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display",
               Segoe UI, Roboto, Helvetica Neue, Arial, system-ui, sans-serif;
  font-size: 14px;
  line-height: 1.4;
  letter-spacing: .2px;
}
* { box-sizing: border-box; }
a { color: inherit; text-decoration: none; }
hr { border: none; height: 1px; background: var(--border); }
.	/* small utility */
.hidden{ display:none !important; }

/* App shell */
.app{
  display:grid;
  grid-template-columns: 280px minmax(0,1fr);
  grid-template-rows: 100vh;
  gap: 18px;
  padding: 20px;
}

/* Sidebar */
.sidebar{
  position: sticky; top: 20px; height: calc(100vh - 40px);
  display:flex; flex-direction:column; gap: 14px;
  padding: 16px;
  background: linear-gradient(180deg, var(--glass) 0%, transparent 60%), var(--bg-1);
  border: 1px solid var(--border);
  border-radius: 20px;
  box-shadow: var(--shadow-1);
}
.brand-card{
  display:flex; align-items:center; gap:12px;
  padding: 12px; border-radius: 14px;
  background: var(--panel);
  border: 1px solid var(--border);
}
.brand-logo{ width:28px; height:28px; display:grid; place-items:center;
  border-radius:8px; background: linear-gradient(180deg,var(--brand),#b80000);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
}
.brand-name{ font-weight: 800; font-size: 16px; letter-spacing: .25px; }
.brand-tag{ color: var(--muted); font-size: 12px; }

.sidebar-search{
  position:relative;
}
.sidebar-search input{
  width:100%; padding:12px 36px 12px 40px; border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--bg-2);
  outline:none;
  transition: border-color var(--t) var(--ease-out), box-shadow var(--t) var(--ease-out), background var(--t) var(--ease-out);
}
.sidebar-search input:focus{
  border-color: color-mix(in oklab, var(--brand), white 35%);
  box-shadow: 0 0 0 8px color-mix(in oklab, var(--brand), transparent 90%);
}
.sidebar-search svg{
  position:absolute; left:12px; top:50%; transform:translateY(-50%); opacity:.8;
}

.nav{ display:flex; flex-direction:column; gap:8px; }
.nav-item{
  --bg: transparent;
  display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:12px; border:1px solid transparent;
  background: var(--bg);
  color:inherit; cursor:pointer; text-align:left;
  transition: background var(--t) var(--ease-out), transform var(--t-fast) var(--ease-out), border-color var(--t) var(--ease-out);
}
.nav-item:hover{ background: var(--bg-2); transform: translateY(-1px); }
.nav-item:active{ transform: translateY(0); }
.nav-item.active{
  background: linear-gradient(180deg, var(--glass-2), transparent 40%), var(--bg-2);
  border-color: color-mix(in oklab, var(--brand), var(--border) 80%);
}
.nav-item .icon{ width:18px; height:18px; display:grid; place-items:center; opacity:.85; }
.nav-label{ font-weight: 600; }
.nav-badge{
  margin-left:auto; background: var(--brand); color:white; font-weight:700;
  border-radius: 10px; padding: 2px 8px; font-size: 11px;
  box-shadow: 0 6px 14px color-mix(in oklab, var(--brand), transparent 70%);
}

/* Support / settings blurb */
.sidebar .support{
  margin-top:auto; padding-top:14px;
  border-top: 1px dashed var(--border);
  color: var(--muted); font-size: 12px;
}

/* Main */
.main{
  min-width:0;
  display:flex; flex-direction:column; gap: 14px;
}
.topbar{
  position: sticky; top: 20px; z-index: 10;
  display:flex; align-items:center; gap: 10px; justify-content: space-between;
  padding: 12px 14px; border-radius: 16px; border:1px solid var(--border);
  background: linear-gradient(180deg, var(--glass) 0% , transparent 46%), var(--bg-1);
  box-shadow: var(--shadow-1);
}

/* Topbar parts */
.title{ display:flex; align-items:baseline; gap:12px;}
.title .page{ font-size: 18px; font-weight: 800; }
.title .meta{ font-size: 12px; color: var(--muted); }

.top-actions{ display:flex; align-items:center; gap: 8px; }

/* Search in topbar */
.search{
  position: relative; min-width: 340px; max-width: 540px; flex: 1;
}
.search input{
  width:100%; padding:10px 40px 10px 36px; border-radius: 12px; border:1px solid var(--border);
  background: var(--bg-2); outline:none;
  transition: border-color var(--t) var(--ease-out), box-shadow var(--t) var(--ease-out);
}
.search input:focus{
  border-color: color-mix(in oklab, var(--brand), white 35%);
  box-shadow: 0 0 0 8px color-mix(in oklab, var(--brand), transparent 90%);
}
.search svg{ position:absolute; left:10px; top:50%; transform:translateY(-50%); opacity:.8; }

/* Buttons */
.btn{
  --bg: var(--bg-2);
  --b: var(--border);
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 14px; border-radius:14px; border:1px solid var(--b);
  background: var(--bg);
  box-shadow: 0 1px 0 rgba(255,255,255,.05), 0 10px 20px rgba(0,0,0,.14);
  cursor:pointer; user-select:none;
  transition: transform var(--t-fast) var(--ease-out), box-shadow var(--t) var(--ease-out), border-color var(--t) var(--ease-out), background var(--t) var(--ease-out);
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 14px 26px rgba(0,0,0,.25); }
.btn:active{ transform: translateY(0) scale(.995); }
.btn .btn-icon{ width:16px; height:16px; display:grid; place-items:center; opacity:.9; }
.btn-sm{ padding:8px 10px; border-radius:12px; }
.btn-primary{ --bg: linear-gradient(180deg, color-mix(in oklab, var(--brand), white 0%), color-mix(in oklab, var(--brand), black 16%)); color:white; --b: color-mix(in oklab, var(--brand), black 30%); }

/* Icon buttons */
.icon-btn{
  width:32px; height:32px; display:grid; place-items:center;
  border-radius:10px; border:1px solid var(--border);
  background: var(--bg-2); cursor:pointer;
  transition: background var(--t) var(--ease-out), transform var(--t-fast) var(--ease-out), border-color var(--t) var(--ease-out);
}
.icon-btn:hover{ background: var(--bg-2); transform: translateY(-1px); }
.icon-btn:active{ transform: translateY(0); }

/* Cards & panels */
.panels{ display:grid; grid-template-columns: repeat(12, 1fr); gap: 14px; }
.panel{
  grid-column: span 12; min-height: 120px;
  padding: 14px; border-radius: 16px; border: 1px solid var(--border);
  background: linear-gradient(180deg, var(--glass) 0%, transparent 40%), var(--bg-1);
  box-shadow: var(--shadow-2);
  transition: transform var(--t) var(--ease-out), box-shadow var(--t) var(--ease-out), background var(--t) var(--ease-out);
}
.panel:hover{ transform: translateY(-2px); box-shadow: 0 16px 34px rgba(0,0,0,.28); }
.panel .panel-title{ font-weight: 700; margin-bottom: 8px; }
.panel .muted{ color: var(--muted); font-size: 12px; }

/* Responsive sizing similar to reference */
@media (min-width: 960px){
  .panel.span-4{ grid-column: span 4; }
  .panel.span-6{ grid-column: span 6; }
  .panel.span-8{ grid-column: span 8; }
  .panel.span-12{ grid-column: span 12; }
}

/* Chips / badges */
.chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px;
  border:1px solid var(--border); background: var(--bg-2);
}
.badge{
  display:inline-block; min-width:20px; padding:2px 6px; border-radius:10px; text-align:center;
  background: var(--brand); color:white; font-weight:800; font-size:11px;
}
.status{ display:inline-flex; align-items:center; gap:6px; font-weight:600; }
.dot{ width:8px; height:8px; border-radius:999px; background:var(--brand); box-shadow: 0 0 0 4px color-mix(in oklab, var(--brand), transparent 88%); }
.dot.ok{ background:#34c759; }
.dot.warn{ background:#ff9f0a; }
.dot.mute{ background:#8e8e93; }

/* Table (grid) */
.table-wrap{ width:100%; overflow:auto; border-radius:12px; border:1px solid var(--border); background: var(--bg-1); }
#grid{ width:100%; border-collapse: collapse; font-size:13px; }
#grid thead th{ position:sticky; top:0; background: linear-gradient(180deg, var(--glass), transparent), var(--bg-1); border-bottom:1px solid var(--border); font-size: 12px; text-transform: uppercase; letter-spacing:.6px; color: var(--muted); padding:10px 12px; user-select:none; white-space:nowrap; }
#grid thead th .sort{ opacity:.6; margin-left:6px; font-size:0; display:inline-block; }
#grid thead th .sort::after{ content:'↕'; font-size:11px; }
#grid tbody td{ border-bottom:1px solid var(--border); padding:10px 12px; vertical-align: middle; }
#grid tbody tr{ transition: background var(--t) var(--ease-out); }
#grid tbody tr:hover{ background: var(--bg-2); }
.row-actions{ display:flex; gap:6px; }

/* Progress bars */
.progress{
  --p: 60;
  height: 10px; border-radius: 999px;
  background: linear-gradient(180deg, var(--glass), transparent), var(--bg-2);
  border:1px solid var(--border);
  position:relative; overflow:hidden;
}
.progress::after{
  content:""; position:absolute; inset:0;
  transform: scaleX(calc(var(--p)/100)); transform-origin:left;
  background: linear-gradient(90deg, var(--brand), #ff2d55);
  transition: transform var(--t-slow) var(--spring);
}

/* Charts area */
.charts-row{ display:grid; grid-template-columns: 1fr; gap:14px; }
@media (min-width: 960px){ .charts-row{ grid-template-columns: 1fr 1fr; } }
.chart-card{ padding:14px; border-radius:16px; border:1px solid var(--border); background: linear-gradient(180deg, var(--glass), transparent 40%), var(--bg-1); box-shadow: var(--shadow-2); position:relative; }
.chart-title{ font-weight:700; margin-bottom:8px; color: var(--text-2); }
canvas{ display:block; width:100%; height:auto; }
.chart-tooltip{ position:absolute; pointer-events:none; transform: translate(-50%, -120%); background: var(--bg-1); border:1px solid var(--border); padding:6px 8px; border-radius:8px; font-size:12px; opacity:0; transition: opacity var(--t) var(--ease-out); }
.chart-card.show-tip .chart-tooltip{ opacity:1; }

/* Toast / notifications */
#toast{
  position: fixed; bottom: 18px; left: 50%; transform: translateX(-50%) translateY(100%);
  padding: 10px 14px; background: var(--bg-1); border:1px solid var(--border);
  border-radius: 999px; box-shadow: var(--shadow-1);
  transition: transform var(--t) var(--spring), opacity var(--t) var(--ease-out);
  opacity: 0; pointer-events: none;
}
#toast.show{ transform: translateX(-50%) translateY(0); opacity: 1; }

/* Skeletons */
.skel{ position:relative; overflow:hidden; background: var(--bg-2); border-radius: 10px; }
.skel::after{ content:""; position:absolute; inset:0; transform:translateX(-100%); background: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent); animation: shimmer 1.4s infinite; }
/* page-level skeleton overlay */
.skeleton{ position: fixed; inset: 20px; border-radius: 16px; background: color-mix(in oklab, var(--bg-1), transparent 40%); border:1px solid var(--border); backdrop-filter: blur(2px); opacity:0; pointer-events:none; transition: opacity var(--t) var(--ease-out); }
.skeleton.show{ opacity:.9; }
@keyframes shimmer { to { transform: translateX(100%); } }

/* Accessibility */
:focus-visible{ outline: none; box-shadow: 0 0 0 8px color-mix(in oklab, var(--brand), transparent 88%); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; }
}

/* KPI row */
.kpi-row{ display:grid; grid-template-columns: repeat(2, 1fr); gap:14px; margin-bottom: 6px; }
@media (min-width: 960px){ .kpi-row{ grid-template-columns: repeat(4, 1fr); } }
.kpi{ padding:12px; border-radius:14px; border:1px solid var(--border); background: linear-gradient(180deg, var(--glass), transparent), var(--bg-1); box-shadow: var(--shadow-2); }
.kpi-title{ color: var(--muted); font-size:12px; margin-bottom:6px; }
.kpi-value{ font-weight:800; font-size:22px; letter-spacing:.3px; }
.kpi-bar{ height:8px; border-radius:999px; background: var(--bg-2); border:1px solid var(--border); overflow:hidden; margin-top:8px; }
.kpi-bar span{ display:block; height:100%; width:0; background: linear-gradient(90deg, var(--brand), #ff2d55); transition: width var(--t-slow) var(--spring); }

/* Toggle (theme) */
.toggle{ width:42px; height:24px; border-radius:999px; border:1px solid var(--border); background: var(--bg-2); position:relative; cursor:pointer; transition: background var(--t) var(--ease-out), border-color var(--t) var(--ease-out); }
.toggle .knob{ position:absolute; top:2px; left:2px; width:20px; height:20px; border-radius:50%; background: linear-gradient(180deg,#fafafa,#d9d9d9); box-shadow: inset 0 0 0 1px rgba(0,0,0,.2), 0 6px 14px rgba(0,0,0,.25); transition: transform var(--t) var(--spring); }
.toggle.on .knob{ transform: translateX(18px); }

/* Connection badge */
.conn-badge{ padding:6px 10px; border-radius:999px; border:1px solid var(--border); background: var(--bg-2); font-weight:700; font-size:12px; color: var(--muted); }
.conn-badge.online{ color:#0f5132; background: color-mix(in oklab, #34c759, transparent 85%); border-color: color-mix(in oklab, #34c759, var(--border) 70%); }

/* Segmented control */
.seg{ display:inline-flex; align-items:center; gap:0; border:1px solid var(--border); border-radius:12px; overflow:hidden; background: var(--bg-2); }
.seg .seg-btn{ padding:8px 12px; border:none; background: transparent; cursor:pointer; color: var(--text); }
.seg .seg-btn.active{ background: linear-gradient(180deg, var(--glass), transparent), var(--bg-1); font-weight:700; }

/* Modal */
.modal{ position: fixed; inset:0; background: rgba(0,0,0,.4); opacity:0; pointer-events:none; display:grid; place-items:center; transition: opacity var(--t) var(--ease-out); }
.modal.open{ opacity:1; pointer-events:auto; }
.modal-sheet{ width:min(720px, 92vw); max-height: 88vh; overflow:auto; border-radius:16px; border:1px solid var(--border); background: var(--bg-1); box-shadow: var(--shadow-1); }
.modal-head, .modal-foot{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 14px; border-bottom:1px solid var(--border); }
.modal-foot{ border-top:1px solid var(--border); border-bottom:none; }
.modal-body{ padding:14px; display:grid; gap:10px; }
.field{ display:grid; gap:6px; }
.field input, .field select, .field textarea{ padding:10px 12px; border-radius:12px; border:1px solid var(--border); background: var(--bg-2); color:inherit; }
